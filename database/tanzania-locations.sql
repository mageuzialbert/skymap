-- Tanzanian Regions and Districts
-- Converted from MySQL to PostgreSQL for Supabase

-- Regions table
CREATE TABLE IF NOT EXISTS regions (
  id BIGSERIAL PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  status BOOLEAN NOT NULL DEFAULT true,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Districts table
CREATE TABLE IF NOT EXISTS districts (
  id BIGSERIAL PRIMARY KEY,
  region_id BIGINT NOT NULL REFERENCES regions(id) ON DELETE CASCADE,
  name VARCHAR(255) NOT NULL,
  status BOOLEAN NOT NULL DEFAULT true,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Indexes
CREATE INDEX IF NOT EXISTS idx_districts_region_id ON districts(region_id);
CREATE INDEX IF NOT EXISTS idx_regions_status ON regions(status);
CREATE INDEX IF NOT EXISTS idx_districts_status ON districts(status);

-- Insert Regions
INSERT INTO regions (id, name, status, created_at, updated_at) VALUES
(1, 'Arusha', true, '2020-07-30 02:30:07', NULL),
(2, 'Dar es salaam', true, '2020-07-30 02:30:07', NULL),
(3, 'Dodoma', true, '2020-07-30 02:30:07', NULL),
(4, 'Tanga', true, '2020-07-30 02:30:07', NULL),
(7, 'Morogoro', true, '2020-07-30 02:30:07', NULL),
(8, 'Pwani', true, '2020-07-30 02:30:07', NULL),
(9, 'Kilimanjaro', true, '2020-07-30 02:30:07', NULL),
(10, 'Mtwara', true, '2020-07-30 02:30:07', NULL),
(11, 'Lindi', true, '2020-07-30 02:30:07', NULL),
(12, 'Ruvuma', true, '2020-07-30 02:30:07', NULL),
(13, 'Songwe', true, '2020-07-30 02:30:07', NULL),
(14, 'Mbeya', true, '2020-07-30 02:30:07', NULL),
(15, 'Njombe', true, '2020-07-30 02:30:07', NULL),
(16, 'Rukwa', true, '2020-07-30 02:30:07', NULL),
(17, 'Katavi', true, '2020-07-30 02:30:07', NULL),
(19, 'Kigoma', true, '2020-07-30 02:30:07', NULL),
(20, 'Geita', true, '2020-07-30 02:30:07', NULL),
(21, 'Kagera', true, '2020-07-30 02:30:07', NULL),
(22, 'Mwanza', true, '2020-07-30 02:30:07', NULL),
(23, 'Shinyanga', true, '2020-07-30 02:30:07', NULL),
(24, 'Simiyu', true, '2020-07-30 02:30:07', NULL),
(25, 'Mara', true, '2020-07-30 02:30:07', NULL),
(26, 'Manyara', true, '2020-07-30 02:30:07', NULL),
(27, 'Singida', true, '2020-07-30 02:30:07', NULL),
(28, 'Iringa', true, '2020-07-30 02:30:07', NULL),
(29, 'Tabora', true, '2020-07-30 02:30:07', NULL),
(30, 'Songea', true, '2020-07-30 02:30:07', NULL),
(33, 'Pemba Kaskazini', true, '2021-01-18 12:02:31', NULL),
(34, 'Pemba Kusini', true, '2021-01-18 12:02:48', NULL),
(35, 'Unguja Kaskazini', true, '2021-01-18 12:08:43', NULL),
(36, 'Unguja Kusini', true, '2021-01-18 12:09:24', NULL),
(37, 'Unguja Magharibi', true, '2021-01-18 12:09:43', NULL)
ON CONFLICT (id) DO NOTHING;

-- Insert Districts
INSERT INTO districts (id, region_id, name, status, created_at, updated_at) VALUES
(1, 2, 'Kinondoni', true, '2020-06-06 00:47:59', NULL),
(3, 1, 'Ngorongoro', true, '2020-06-06 01:02:07', NULL),
(5, 1, 'Arusha', true, '2020-06-20 13:15:36', NULL),
(6, 1, 'Arumeru', true, '2020-06-24 05:28:15', NULL),
(7, 1, 'Longido', true, '2020-06-24 05:28:45', NULL),
(8, 1, 'Monduli', true, '2020-06-24 05:28:52', NULL),
(9, 1, 'Karatu', true, '2020-06-24 05:28:59', NULL),
(10, 2, 'Ilala', true, '2020-06-24 05:29:57', NULL),
(11, 2, 'Temeke', true, '2020-06-24 05:30:03', NULL),
(12, 2, 'Ubungo', true, '2020-06-24 05:30:10', NULL),
(13, 2, 'Kigamboni', true, '2020-06-24 05:30:22', NULL),
(14, 3, 'Dodoma', true, '2020-06-24 05:32:12', NULL),
(15, 3, 'Chamwino', true, '2020-06-24 05:32:19', NULL),
(16, 3, 'Chemba', true, '2020-06-24 05:32:31', NULL),
(17, 3, 'Kondoa', true, '2020-06-24 05:32:37', NULL),
(18, 3, 'Bahi', true, '2020-06-24 05:32:48', NULL),
(19, 3, 'Mpwapwa', true, '2020-06-24 05:32:58', NULL),
(20, 3, 'Kongwa', true, '2020-06-24 05:33:08', NULL),
(21, 20, 'Bukombe', true, '2020-06-24 05:34:57', NULL),
(22, 20, 'Mbogwe', true, '2020-06-24 05:35:13', NULL),
(23, 20, 'Geita', true, '2020-06-24 05:35:20', NULL),
(24, 20, 'Chato', true, '2020-06-24 05:35:27', NULL),
(25, 20, 'Nyang''wale', true, '2020-06-24 05:35:42', NULL),
(26, 28, 'Iringa', true, '2020-06-24 05:36:05', NULL),
(27, 28, 'Mufindi', true, '2020-06-24 05:36:13', NULL),
(28, 28, 'Kilolo', true, '2020-06-24 05:36:27', NULL),
(29, 21, 'Biharamulo', true, '2020-06-24 05:37:30', NULL),
(30, 21, 'Karagwe', true, '2020-06-24 05:37:48', NULL),
(31, 21, 'Muleba', true, '2020-06-24 05:37:56', NULL),
(32, 21, 'Bukoba', true, '2020-06-24 05:38:18', NULL),
(33, 21, 'Ngara', true, '2020-06-24 05:38:26', NULL),
(34, 21, 'Missenyi', true, '2020-06-24 05:38:37', NULL),
(35, 21, 'Kyerwa', true, '2020-06-24 05:38:56', NULL),
(36, 17, 'Mlele', true, '2020-06-24 05:39:26', NULL),
(37, 17, 'Mpanda', true, '2020-06-24 05:39:33', NULL),
(38, 17, 'Tanganyika', true, '2020-06-24 05:39:40', NULL),
(39, 19, 'Kigoma', true, '2020-06-24 05:40:03', NULL),
(40, 19, 'Kasulu', true, '2020-06-24 05:40:11', NULL),
(41, 19, 'Kankoko', true, '2020-06-24 05:40:24', NULL),
(42, 19, 'Uvinza', true, '2020-06-24 05:40:30', NULL),
(43, 19, 'Buhigwe', true, '2020-06-24 05:40:45', NULL),
(44, 19, 'Kibondo', true, '2020-06-24 05:40:53', NULL),
(45, 9, 'Siha', true, '2020-06-24 05:41:29', NULL),
(46, 9, 'Moshi', true, '2020-06-24 05:41:35', NULL),
(47, 9, 'Mwanga', true, '2020-06-24 05:41:46', NULL),
(48, 8, 'Rombo', true, '2020-06-24 05:41:52', NULL),
(49, 9, 'Hai', true, '2020-06-24 05:42:06', NULL),
(50, 9, 'Same', true, '2020-06-24 05:42:15', NULL),
(51, 11, 'Nachingwea', true, '2020-06-24 06:01:11', NULL),
(52, 11, 'Ruangwa', true, '2020-06-24 06:01:23', NULL),
(53, 11, 'Liwale', true, '2020-06-24 06:01:35', NULL),
(54, 11, 'Lindi', true, '2020-06-24 06:01:46', NULL),
(55, 11, 'Kilwa', true, '2020-06-24 06:01:58', NULL),
(56, 26, 'Babati', true, '2020-06-24 06:03:23', NULL),
(57, 26, 'Mbulu', true, '2020-06-24 06:03:31', NULL),
(58, 26, 'Hanang''', true, '2020-06-24 06:03:53', NULL),
(59, 26, 'Kiteto', true, '2020-06-24 06:04:01', NULL),
(60, 26, 'Simanjiro', true, '2020-06-24 06:04:20', NULL),
(61, 25, 'Rorya', true, '2020-06-24 06:05:13', NULL),
(62, 25, 'Serengeti', true, '2020-06-24 06:05:28', NULL),
(63, 25, 'Bunda', true, '2020-06-24 06:05:35', NULL),
(64, 25, 'Butiama', true, '2020-06-24 06:05:51', NULL),
(65, 25, 'Tarime', true, '2020-06-24 06:05:59', NULL),
(66, 25, 'Musoma', true, '2020-06-24 06:06:12', NULL),
(67, 14, 'Chunya', true, '2020-06-24 06:06:43', NULL),
(68, 14, 'Kyela', true, '2020-06-24 06:06:51', NULL),
(69, 14, 'Mbeya', true, '2020-06-24 06:07:05', NULL),
(70, 14, 'Rungwe', true, '2020-06-24 06:07:12', NULL),
(71, 14, 'Mbarali', true, '2020-06-24 06:07:33', NULL),
(72, 7, 'Gairo', true, '2020-06-24 06:08:32', NULL),
(73, 7, 'Kilombero', true, '2020-06-24 06:08:40', NULL),
(74, 7, 'Kilosa', true, '2020-06-24 06:08:46', NULL),
(75, 7, 'Mvomero', true, '2020-06-24 06:09:03', NULL),
(76, 7, 'Morogoro', true, '2020-06-24 06:09:09', NULL),
(77, 7, 'Ulanga', true, '2020-06-24 06:09:21', NULL),
(78, 7, 'Malinyi', true, '2020-06-24 06:09:27', NULL),
(79, 10, 'Newala', true, '2020-06-24 06:10:36', NULL),
(80, 10, 'Nanyumbu', true, '2020-06-24 06:11:05', NULL),
(81, 10, 'Mtwara', true, '2020-06-24 06:11:18', NULL),
(82, 10, 'Masasi', true, '2020-06-24 06:11:25', NULL),
(83, 10, 'Tandahimba', true, '2020-06-24 06:11:50', NULL),
(84, 22, 'Ilemela', true, '2020-06-24 06:12:29', NULL),
(85, 22, 'Kwimba', true, '2020-06-24 06:12:40', NULL),
(86, 22, 'Sengerema', true, '2020-06-24 06:12:55', NULL),
(87, 22, 'Nyamagana', true, '2020-06-24 06:13:05', NULL),
(88, 22, 'Magu', true, '2020-06-24 06:13:21', NULL),
(89, 22, 'Ukerewe', true, '2020-06-24 06:13:29', NULL),
(90, 22, 'Misungwi', true, '2020-06-24 06:13:41', NULL),
(91, 15, 'Njombe', true, '2020-06-24 06:14:18', NULL),
(92, 15, 'Ludewa', true, '2020-06-24 06:14:25', NULL),
(93, 15, 'Wang''ing''ombe', true, '2020-06-24 06:14:44', NULL),
(94, 15, 'Makete', true, '2020-06-24 06:14:55', NULL),
(95, 8, 'Bagamoyo', true, '2020-06-24 06:15:23', NULL),
(96, 8, 'Mkuranga', true, '2020-06-24 06:15:30', NULL),
(97, 8, 'Rufiji', true, '2020-06-24 06:15:46', NULL),
(98, 8, 'Mafia', true, '2020-06-24 06:15:52', NULL),
(99, 8, 'Kibaha', true, '2020-06-24 06:16:04', NULL),
(100, 8, 'Kisarawe', true, '2020-06-24 06:16:11', NULL),
(101, 8, 'Kibiti', true, '2020-06-24 06:16:25', NULL),
(102, 16, 'Sumbawanga', true, '2020-06-24 06:17:11', NULL),
(103, 16, 'Nkasi', true, '2020-06-24 06:17:18', NULL),
(104, 16, 'Kalambo', true, '2020-06-24 06:17:26', NULL),
(105, 12, 'Namtumbo', true, '2020-06-24 06:17:42', NULL),
(106, 12, 'Mbinga', true, '2020-06-24 06:17:48', NULL),
(107, 12, 'Nyasa', true, '2020-06-24 06:17:59', NULL),
(108, 12, 'Tunduru', true, '2020-06-24 06:18:06', NULL),
(109, 12, 'Songea', true, '2020-06-24 06:18:19', NULL),
(110, 23, 'Kishapu', true, '2020-06-24 06:18:45', NULL),
(111, 23, 'Kahama', true, '2020-06-24 06:18:53', NULL),
(112, 23, 'Shinyanga', true, '2020-06-24 06:19:04', NULL),
(113, 24, 'Busega', true, '2020-06-24 06:21:41', NULL),
(114, 24, 'Maswa', true, '2020-06-24 06:21:52', NULL),
(115, 24, 'Bariadi', true, '2020-06-24 06:22:04', NULL),
(116, 24, 'Meatu', true, '2020-06-24 06:22:12', NULL),
(117, 24, 'Itilima', true, '2020-06-24 06:22:27', NULL),
(118, 27, 'Mkalama', true, '2020-06-24 06:27:56', NULL),
(119, 27, 'Manyoni', true, '2020-06-24 06:28:06', NULL),
(120, 27, 'Singida', true, '2020-06-24 06:28:20', NULL),
(121, 27, 'Ikungi', true, '2020-06-24 06:28:27', NULL),
(122, 27, 'Iramba', true, '2020-06-24 06:28:47', NULL),
(123, 13, 'Songwe', true, '2020-06-24 06:29:26', NULL),
(124, 13, 'Ileje', true, '2020-06-24 06:29:48', NULL),
(125, 13, 'Mbozi', true, '2020-06-24 06:29:57', NULL),
(126, 13, 'Momba', true, '2020-06-24 06:30:13', NULL),
(127, 29, 'Nzega', true, '2020-06-24 06:31:00', NULL),
(128, 29, 'Kaliua', true, '2020-06-24 06:31:16', NULL),
(129, 29, 'Igunga', true, '2020-06-24 06:31:23', NULL),
(130, 29, 'Sikonge', true, '2020-06-24 06:31:39', NULL),
(131, 29, 'Tabora', true, '2020-06-24 06:31:51', NULL),
(132, 29, 'Urambo', true, '2020-06-24 06:32:06', NULL),
(133, 29, 'Uyui', true, '2020-06-24 06:32:16', NULL),
(134, 4, 'Tanga', true, '2020-06-24 06:34:32', NULL),
(135, 4, 'Muheza', true, '2020-06-24 06:34:43', NULL),
(136, 4, 'Mkinga', true, '2020-06-24 06:34:53', NULL),
(137, 4, 'Pangani', true, '2020-06-24 06:35:46', NULL),
(138, 4, 'Handeni', true, '2020-06-24 06:35:57', NULL),
(139, 4, 'Korogwe', true, '2020-06-24 06:36:07', NULL),
(140, 4, 'Kilindi', true, '2020-06-24 06:36:17', NULL),
(141, 4, 'Lushoto', true, '2020-06-24 06:36:27', NULL),
(145, 33, 'Micheweni', true, '2021-01-18 12:03:16', NULL),
(146, 33, 'Wete', true, '2021-01-18 12:03:24', NULL),
(147, 34, 'Chakechake', true, '2021-01-18 12:07:50', NULL),
(148, 34, 'Mkoani', true, '2021-01-18 12:08:04', NULL),
(149, 35, 'Kaskazini A', true, '2021-01-18 12:10:42', NULL),
(150, 35, 'Kaskazini B', true, '2021-01-18 12:10:53', NULL),
(151, 36, 'Unguja Kati', true, '2021-01-18 12:11:40', NULL),
(152, 36, 'Unguja Kusini', true, '2021-01-18 12:11:52', NULL),
(153, 37, 'Unguja Magharibi', true, '2021-01-18 12:12:24', NULL),
(154, 37, 'Unguja Mjini', true, '2021-01-18 12:12:39', NULL),
(155, 2, 'WINGERS', true, '2025-06-09 16:18:34', NULL)
ON CONFLICT (id) DO NOTHING;

-- Set sequence to continue from highest ID
-- Run these separately if needed, or combine into a DO block
DO $$
BEGIN
  PERFORM setval('regions_id_seq', COALESCE((SELECT MAX(id) FROM regions), 1), true);
  PERFORM setval('districts_id_seq', COALESCE((SELECT MAX(id) FROM districts), 1), true);
END $$;
